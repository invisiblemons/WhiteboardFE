<p-dialog header="Chi tiết reviewer" [draggable]="false" [modal]="true" [style]="{ width: '70vw' }" [closable]="true"
  [(visible)]="displayBasic" (onHide)="onDiscard()">
  <div *ngIf="!this.reviewer" style="margin-left: 50%;">
    <p-progressSpinner [style]="{width: '50px', height: '50px'}" styleClass="custom-spinner" strokeWidth="8"
      fill="#EEEEEE" animationDuration=".5s"></p-progressSpinner>
  </div>
  <div *ngIf="this.reviewer">
    <!-- detail campaign -->
    <div class="row">
      <div class="col-sm-12">
        <app-card [headerContent]="'Duyệt Reviewer'">
          <div class="row">
            <div class="col-sm-12 col-xl-6">
              <h6 class="sub-title" style="font-weight: 600">Avatar</h6>
              <div class="card">
                <div class="profile-wrap animated">
                  <img style="width: 600px; height: 300px" src="{{ reviewer.avatar }}" />
                </div>    
              </div>
            </div>
            
            <div class="col-sm-12 col-xl-6">
              <h4 class="sub-title" style="font-weight: 600; text-align: center;">
                Chi tiết Reviewer
              </h4>
              <dl class="dl-horizontal row">
                <dt class="col-sm-3">Name</dt>
                <dd class="col-sm-9">
                  <span>{{ reviewer.name }}</span>
                </dd>
                <dt class="col-sm-3">Birthday</dt>
                <dd class="col-sm-9">
                  {{ reviewer.birthday | date: "dd/MM/yyyy" }}
                </dd>
                <dt class="col-sm-3">Email</dt>

                <dd class="col-sm-9 col-sm-offset-3">
                  {{ reviewer.email }}
                </dd>
                <dt class="col-sm-3">Phone Number</dt>
                <dd class="col-sm-9">
                  {{ reviewer.phoneNumber }}
                </dd>
                <dt class="col-sm-3">Status</dt>
                <dd class="col-sm-9">
                  {{ reviewer.status }}
                </dd>     
              </dl>
            </div>
            <div class="col-sm-12 col-xl-6">
              <h6 class="sub-title" style="font-weight: 600">Certificate</h6>
              <div class="card">
                <div class="profile-wrap animated">
                  <img style="width: 500px; height: 300px" src="{{ reviewer.certificate }}" />
                </div>    
              </div>
            </div>
            
          </div>
          <button pButton pRipple label="Approve" icon="pi pi-check" class="p-button-text"
                  (click)="approveReviewer(reviewer)"></button>
        </app-card>
      </div>
      
    </div>
    <div class="row">
      <div class="col-sm-12">
        <app-card [headerContent]="'Duyệt bài review của Reviewer'">
          <div class="row">
            <!-- Reviewer -->
            <div class="col-sm-12 col-xl-6">
              <h4 class="sub-title" style="font-weight: 600">
                Thống kê các bài review của Reviewer
              </h4>
              <div class="row">
                <div class="col-md-8 mx-auto">
                  <p-chart type="doughnut" [data]="data" [options]="chartOptions" width="100" height="100"></p-chart>
                </div>
              </div>
            </div>
            <!-- Review -->
            <div class="col-sm-12 col-xl-6">
              <div class="d-flex bd-highlight">
                <div class="p-2 w-100 bd-highlight">
                  <h4 class="p-m-0" style="font-weight: 600">Quản lý bài Review</h4>
                </div>
                <div class="p-2 flex-shrink-0 bd-highlight">
                  <button pButton pRipple label="Thêm mới" icon="pi pi-plus" class="p-button-success p-mr-2"
                    (click)="openNewReview()"></button>
                </div>
              </div>
              <div class="row">
              </div>
              <dl class="dl-horizontal row mt-2">
                <dd class="col-sm-12 col-sm-offset-3">
                  <p-table [value]="reviews" dataKey="id">
                    <ng-template pTemplate="header">
                      <tr>
                        <th pSortableColumn="name">
                          Tên tiêu chí<p-sortIcon field="name"></p-sortIcon>
                        </th>
                        <th style="width: 10rem"></th>
                      </tr>
                    </ng-template>
                    <ng-template pTemplate="body" let-review>
                      <tr>
                        <td>{{ review.name }}</td>
                        <td>
                          <button pButton pRipple icon="pi pi-trash" class="p-button-rounded p-button-warning"
                            (click)="deleteReview(review)"></button>
                        </td>
                      </tr>
                    </ng-template>
                    <ng-template pTemplate="emptymessage">
                      <tr>
                        <td colspan="7">Reviewer này không có bài viết.</td>
                      </tr>
                    </ng-template>
                  </p-table>
                </dd>
              </dl>
            </div>
          </div>
        </app-card>
      </div>
    </div>

    <!-- Review -->
    <!-- <div class="row">
      <app-card [headerContent]="'Các bài review của Reviewer'">
        <div class="col-sm-12">
          <div class="row">
            <h4 class="sub-title" style="font-weight: 600">
              Các bài reviewer của Reviewer
            </h4>
            <p-table [value]="reviews" dataKey="title" responsiveLayout="scroll">
              <ng-template pTemplate="header">
                <tr>
                  <th style="width: 3rem"></th>
                  <th pSortableColumn="title">
                    Title <p-sortIcon field="title"></p-sortIcon>
                  </th>
                  <th pSortableColumn="onDateTime">
                    Date <p-sortIcon field="onDateTime"></p-sortIcon>
                  </th>
                  <th pSortableColumn="status">
                    Status <p-sortIcon field="status"></p-sortIcon>
                  </th>
                </tr>
              </ng-template>
              <ng-template pTemplate="body" let-review let-expanded="expanded">
                <tr>
                  <td>
                    <button type="button" pButton pRipple (click)="openCriteriaOfReview(review)" [pRowToggler]="review"
                      class="p-button-text p-button-rounded p-button-plain" [icon]="
                      expanded ? 'pi pi-chevron-down' : 'pi pi-chevron-right'
                    "></button>
                  </td>
                  <td>{{ review.title }}</td>
                  <td>{{review.onDateTime | date: "dd/MM/yyyy"}}</td>
                  <td>{{ review.status }}
                  </td>
                </tr>
              </ng-template>
              <ng-template pTemplate="rowexpansion" let-review>
                <tr>
                  <td colspan="4">
                    <div class="p-p-3">
                      <p-table [value]="criterionsOfReview" dataKey="id">
                        <ng-template pTemplate="header">
                <tr>
                  <th pSortableColumn="name">
                    Name <p-sortIcon field="name"></p-sortIcon>
                  </th>
                  <th>Rating</th>
                </tr>
              </ng-template>
              <ng-template pTemplate="body" let-criteriaOfReview>
                <tr>
                  <td>{{ criteriaOfReview.name }}</td>
                  <td>{{ criteriaOfReview.rating }}</td>
                </tr>
              </ng-template>
              <ng-template pTemplate="emptymessage">
                <tr>
                  <td colspan="4">
                    There are no criteria in this review.
                  </td>
                </tr>
              </ng-template>
            </p-table>
          </div>
          </td>
          </tr>
          </ng-template>
          </p-table>
        </div>
    </div>
    </app-card>
  </div> -->
  </div>
</p-dialog>